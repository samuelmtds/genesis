<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>Thinlet Binding - genesis</title><style type="text/css" media="all">
          @import url("../style/maven-base.css");
          
          @import url("../style/maven-theme.css");</style><link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><meta name="author" content="Allan Jones Batista de Castro"></meta><meta name="email" content="allanjones@dev.java.net"></meta><meta name="author" content="Michael Nascimento Santos"></meta><meta name="email" content="mister__m@dev.java.net"></meta></head><body class="composite"><div id="banner"><a href="https://genesis.dev.java.net/" id="projectLogo"><img alt="SOL Genesis" src="../genesis.gif"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xleft">Last published: 27 February 2008
                <span class="separator">|</span> Doc for  3.1-RC1
                </div><div class="xright">
        
        <a href="../index.html">genesis</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-aspect/index.html">genesis-aspect</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-client/index.html">genesis-client</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-server/index.html">genesis-server</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-shared/index.html">genesis-shared</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../tags/genesis-tags.html">genesis-xdoclet</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menugenesis"><h5>genesis</h5><ul><li class="none"><a href="../en/index.html">Overview</a></li><li class="none"><a href="../en/download.html">Downloads</a></li><li class="none"><a href="../en/release_notes.html">Release notes</a></li></ul></div><div id="menuDocumentation"><h5>Documentation</h5><ul><li class="expanded"><a href="../en/documentation_intro.html">User manual</a><ul><li class="none"><a href="../en/documentation_intro.html">Introduction</a></li><li class="none"><a href="../en/annotations.html">Using annotations</a></li><li class="none"><a href="../en/startup.html">Configuring genesis at startup</a></li><li class="expanded"><a href="../en/remoting.html">Basic features</a><ul><li class="none"><a href="../en/remoting.html">Transparent remoting</a></li><li class="none"><a href="../en/transactions.html">Transaction support</a></li><li class="none"><a href="../en/hibernate_integration.html">Hibernate integration</a></li><li class="none"><a href="../en/binding.html">Binding</a></li><li class="none"><a href="../en/actions.html">Implementing mixed actions</a></li></ul></li><li class="expanded"><strong><a href="../en/thinlet_binding.html">Thinlet-specific features</a></strong><ul><li class="none"><strong><a href="../en/thinlet_binding.html">Thinlet Binding</a></strong></li><li class="none"><a href="../en/customizing_widgets_creation.html">Customizing widget creation</a></li></ul></li><li class="expanded"><a href="../en/configuring_swt.html">SWT-specific features</a><ul><li class="none"><a href="../en/configuring_swt.html">Configuring SWT libraries</a></li></ul></li><li class="expanded"><a href="../en/conditions.html">Additional features</a><ul><li class="none"><a href="../en/conditions.html">Working with conditions</a></li><li class="none"><a href="../en/populating_with_dataproviders.html">Populating comboboxes, lists and tables</a></li><li class="none"><a href="../en/binding_toggle_buttons.html">Binding radiobuttons and checkboxes</a></li><li class="none"><a href="../en/binding_strategy.html">Configuring binding strategies</a></li><li class="none"><a href="../en/formatting.html">Formatting data</a></li><li class="none"><a href="../en/handling_errors.html">Handling errors</a></li><li class="none"><a href="../en/validating_data.html">Validating data</a></li><li class="none"><a href="../en/configuring_messages.html">Configuring messages</a></li><li class="none"><a href="../en/paging_and_dynamic_search.html">Paging and dynamic queries</a></li></ul></li><li class="none"><a href="../en/quick_reference.html">Annotation quick reference guide</a></li></ul></li><li class="expanded"><a href="../en/empty_project.html">Developing with genesis</a><ul><li class="none"><a href="../en/empty_project.html">For desktops</a></li><li class="none"><a href="../en/empty_web_project.html">For web</a></li></ul></li><li class="none"><a href="../en/useradmin_sample.html">Using the UserAdmin sample</a></li><li class="expanded"><a href="../en/advanced_introduction.html">Advanced guide</a><ul><li class="none"><a href="../en/xdoclet_extensions.html">XDoclet extensions</a></li><li class="none"><a href="../en/aspects.html">genesis aspects</a></li><li class="none"><a href="../en/generic_scripting.html">Generic scripting support</a></li><li class="none"><a href="../en/lookup_strategy.html">Widget lookup strategies</a></li><li class="none"><a href="../en/widget_binder.html">Customizing widget binding</a></li></ul></li><li class="none"><a href="../en/faq.html">FAQ</a></li><li class="none"><a href="http://wiki.java.net/bin/view/Projects/GenesisRoadmap" class="externalLink" title="External Link">Roadmap</a></li><li class="none"><a href="http://wiki.java.net/bin/view/Projects/Genesis" class="externalLink" title="External Link">Wiki</a></li></ul></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="../index.html">About</a></li><li class="collapsed"><a href="../project-info.html">Project Info</a></li><li class="collapsed"><a href="../maven-reports.html">Project Reports</a></li><li class="none"><a href="http://maven.apache.org/development-process.html" class="externalLink" title="External Link">Development Process</a></li></ul></div><div id="menujava_net"><h5>java.net</h5><ul><li class="none"><a href="https://genesis.dev.java.net" class="externalLink" title="External Link">genesis.dev.java.net</a></li><li class="none"><a href="http://java.net" class="externalLink" title="External Link"><img title="java.net member" style="border: 1px" src="../java_dot_net_member.bmp" alt="java.net member"></img></a></li></ul></div><div id="legend"><h5>Legend</h5><ul><li class="externalLink">External Link</li><li class="newWindow">Opens in a new window</li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="../images/logos/maven-button-1.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="Thinlet_Binding"></a><h2>Thinlet Binding</h2>
      <p>The following sections are helpful only to those using the Thinlet 
      binding:
      <ul>
        <li><a href="#Writing_Thinlet_views">Writing Thinlet views</a></li>
        <li><a href="#Using_auxiliary_UI_classes">Using auxiliary UI classes</a></li>
      </ul>
      </p>
    </div><div class="section"><a name="Writing_Thinlet_views"></a><h2>Writing Thinlet views</h2>
      <p>Views are tightly coupled to the graphical API being used. Thinlet
      support is implemented in genesis in two classes that are part of the
      <code>net.java.dev.genesis.ui.thinlet</code> package:
      <code>BaseThinlet</code> and its subclass <code>BaseDialogThinlet</code>.
      </p>
      <p><code>BaseThinlet</code> extends <code>Thinlet</code> in the following
      ways:
        <ul>
          <li>Exposes constants for Thinlet's widget names that are used in
          several points of the API and also internally.</li>
          <li>Provides several
          <code>set&lt;Property&gt;(Object,&lt;type&gt;)</code> and
          <code>&lt;type&gt; get&lt;Property&gt;(Object)</code> methods so that
          widget properties may be accessed in a strongly typed way.</li>
          <li>Implements some <code>create&lt;Widget&gt;(..)</code> methods that
          make it easy to dinamically generate graphical components.</li>
          <li>Has methods to display a bean on screen
          (<code>displayBean(..)</code> and <code>populateFrom..(..)</code>) as
          well as to capture displayed values in a bean
          (<code>populate(Object)</code>).</li>
          <li>Makes it possible to handle errors through
          <code>handleException(Throwable)</code> and more specialized methods
          such as <code>handleUIException(UIException),
          handleCustomException(Throwable),</code> and
          <code>handleUnknownException(Throwable)</code>.</li>
          <li>Integrates validation and implements specific error handling for
          it.</li>
          <li>Implements form-to-view binding through methods
          <code>bind(..)</code>, <code>invokeFormAction(..)</code> etc.</li>
        </ul>
      </p>
      <p>When the model explained in this document is used, i.e., form binding,
      only the last three characteristics are used directly by client code.
      Therefore, just these ones will be explored from this point on.</p>
      <p><code>BaseDialogThinlet</code> is a specialization of
      <code>BaseThinlet</code> that makes it simpler to create dialogs. As a
      consequence, all explanations regarding <code>BaseThinlet</code> also
      apply to it.</p>
      <div class="subsection"><a name="Setting_up_and_displaying_a_window"></a><h3>Setting up and displaying a window</h3>
        <p>The programmer is responsible for creating the window in which a view
        will be displayed. A way to create the main window is by using
        <code>FrameLauncher</code>, a class that is contained in Thinlet's
        distribution. An example of this technique is shown below:</p>

    <div class="source"><pre>
public class FrameCreationExample extends BaseThinlet {
   public FrameCreationExample() throws Exception {
      add(parse("frame_creation_example.xml"));
   }

   public static void main(String[] args) throws Exception {
      new FrameLauncher("Frame creation example",
            new FrameCreationExample(), 800, 600);
   }
}
</pre></div>
  
        <p>This trivial example may work for several situations, but in some 
        cases it is necessary to change a frame's properties before displaying 
        it. If all frames in an application need to be configured in the
        same way, it's recommended to create an intermediate base class. This
        technique is used in the examples provided with genesis. The following
        class was extracted from the useradmin sample:</p>

    <div class="source"><pre>
public abstract class BaseView extends BaseThinlet {
   public BaseView(String title, String xmlFile, int width, int height,
         boolean resizable) throws Exception {
      Frame f = new Frame();
      f.add(this);
      Insets is = f.getInsets();
      width += is.left + is.right;
      height += is.top + is.bottom;
      Dimension ss = getToolkit().getScreenSize();
      width = Math.min(width, ss.width);
      height = Math.min(height, ss.height);
      f.setBounds((ss.width - width) / 2, (ss.height - height) / 2, width,
            height);
      f.setResizable(resizable);
      f.setTitle(UIUtils.getInstance().getBundle().getString(title));
      f.addWindowListener(new WindowAdapter() {
         public void windowClosing(WindowEvent e) {
            System.exit(0);
         }
      });
      setAllI18n(true);
      setResourceBundle(UIUtils.getInstance().getBundle());
      add(parse(xmlFile));
   }
}
</pre></div>
  
        <p>The above class creates its own frame so it can be centered,
        be made resizable or not, have its title defined using a
        <code>ResourceBundle</code> - which makes internationalization
        possible) -, the window stops execution when it is closed
        and UI internationalization is configured before adding the parsed xml 
        file.</p>
        <p><code>BaseDialogThinlet</code> has constructors capable of
        instantiating a <code>Dialog</code> - using an existent
        <code>Frame</code> or a <code>BaseThinlet</code> instance or creating a
        new <code>Frame</code> - and others that receive an externally created
        instance. Generally it won't be necessary to externally configure a
        <code>Dialog</code> instance. By default a listener that calls the non-
        final method <code>onClose()</code> when the window is closed is a
        added. It is possible to customize the behaviour in response to the
        window closing event by overriding <code>onClose()</code>.</p>
        <p>It's also recommended to create an intermediate, project-specific
        super class for <code>BaseDialogThinlet</code>. An example, also
        extracted from the useradmin sample, can be seen below:</p>

    <div class="source"><pre>
public abstract class BaseDialogView extends BaseDialogThinlet {
   public BaseDialogView(Frame frame, String title, String xmlFile,
         boolean resizable, boolean modal) throws Exception {
      super(frame);
      getDialog().setModal(modal);
      getDialog().setResizable(resizable);
      getDialog().setTitle(UIUtils.getInstance().getBundle().getString(title));
      setAllI18n(true);
      setResourceBundle(UIUtils.getInstance().getBundle());
      add(parse(xmlFile));
   }
}
</pre></div>
  
        <p>The above code is very similar to the previous code. It just
        configures the <code>Dialog</code> instance - that can be obtained using
        <code>getDialog()</code>, as showed above - to be modal or not and
        resizable or not.</p>
      </div>
    </div><div class="section"><a name="Using_auxiliary_UI_classes"></a><h2>Using auxiliary UI classes</h2>
      <p>Some auxiliary classes are provided together with genesis-client to
      accelerate the UI development process. They implement several common 
      tasks, such as displaying messages, asking for user confirmation and 
      displaying exceptions. All these classes are contained in the
      <code>net.java.dev.genesis.ui.thinlet</code> package.</p>
      <div class="subsection"><a name="MessageDialog"></a><h3>MessageDialog</h3>
        <p>The first of these auxiliary classes is <code>MessageDialog</code>,
        which displays a message to an user in a <code>Dialog</code> that also
        contains a "Close" button. Two static <code>show(..)</code> methods are
        provided in order to make using this class even more convenient to use. 
        Both accept the window title as their second argument and the message to
        display as the third, whereas the first parameter might be an instance
        of <code>Frame</code> or <code>BaseThinlet</code>. The second version
        makes it especially easier to use this class inside a class that extends
        <code>BaseThinlet</code>, as the code below demonstrates:</p>

    <div class="source"><pre>
public void displayMessage() {
   MessageDialog.show(this, "Title", "Message to be displayed");
}
</pre></div>
  
      </div>
      <div class="subsection"><a name="OptionDialog"></a><h3>OptionDialog</h3>
        <p>To display a choice, the class <code>OptionDialog</code> might be
        helpful. Similarly to <code>MessageDialog</code>, two versions of the 
        <code>display(..)</code> method are provided, accepting either an 
        instance of <code>BaseThinlet</code> or <code>Frame</code>, the window 
        title and the question to be displayed. When one of these methods is 
        used, a dialog window is shown with three buttons (Yes/No/Cancel). There 
        is a <code>displayYesNo(BaseThinlet,String,String)</code> method for
        occasions when just these options would be appropriate. All the three
        methods return a value from the <code>Option</code> enum, so it's
        possible to know which option the user has selected.
        <code>OptionDialog</code> may be used in a class that extends
        <code>BaseThinlet</code> as shown below:</p>

    <div class="source"><pre>
public void performOperation() {
   Option option = OptionDialog.displayYesNo(this, "Title", "Do you really " +
         "want to do that?");

   if (option == Option.YES) {
      // perform the operation
   }
}
</pre></div>
  
      </div>
      <div class="subsection"><a name="ErrorReporterDialog"></a><h3>ErrorReporterDialog</h3>
        <p><code>ErrorReporterDialog</code> displays an exception with a 
        descriptive message, as well as its stack trace. As it is true
        for <code>MessageDialog</code>, there are also two versions of
        <code>show(..)</code>: one for a <code>BaseThinlet</code> instance and
        another one for a <code>Frame</code>. The example below shows how to use
        this class in a <code>BaseThinlet</code> subclass:</p>

    <div class="source"><pre>
public void displayError(Throwable t) {
   ErrorReporterDialog.show(this, "Error", t.getMessage(), t);
}
</pre></div>
  
        <p>Directly usage of <code>ErrorReporterDialog</code> in client code
        will probably be unnecessary, since the default error handling
        implemented in <code>BaseThinlet</code> already uses this class as
        explained later.</p>
      </div>
    </div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2004-2008, Summa Technologies do Brasil Ltda.</div><div class="clear"><hr></hr></div></div></body></html>