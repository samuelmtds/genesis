<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>Distribuição do genesis - genesis</title><style type="text/css" media="all">
          @import url("../style/maven-base.css");
          
          @import url("../style/maven-theme.css");</style><link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><meta name="author" content="Allan Jones Batista de Castro
     "></meta><meta name="email" content="allanjones@dev.java.net"></meta></head><body class="composite"><div id="banner"><a href="https://genesis.dev.java.net/" id="projectLogo"><img alt="SOL Genesis" src="../genesis.gif"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xleft">Last published: 25 December 2005
                <span class="separator">|</span> Doc for  2.3
                </div><div class="xright">
        
        <a href="../index.html">genesis</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-server/index.html">genesis-server</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-client/index.html">genesis-client</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-shared/index.html">genesis-shared</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-aspect/index.html">genesis-aspect</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../tags/genesis-tags.html">genesis-xdoclet</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menugenesis"><h5>genesis</h5><ul><li class="none"><a href="../pt-BR/index.html">Visão geral</a></li><li class="none"><a href="../pt-BR/screenshots.html">Screenshots</a></li><li class="none"><a href="../pt-BR/download.html">Downloads</a></li><li class="none"><a href="../pt-BR/release_notes.html">Notas de versão</a></li></ul></div><div id="menuDocumentação"><h5>Documentação</h5><ul><li class="collapsed"><a href="../pt-BR/documentation_intro.html">Manual do usuário</a></li><li class="none"><strong><a href="../pt-BR/jars_explained.html">Entendendo os jars do genesis</a></strong></li><li class="none"><a href="../pt-BR/empty_project.html">Desenvolvendo com o genesis</a></li><li class="none"><a href="../pt-BR/empty_web_project.html">Desenvolvendo com o genesis (WEB)</a></li><li class="none"><a href="../pt-BR/useradmin_sample.html">Usando o exemplo UserAdmin</a></li><li class="collapsed"><a href="../pt-BR/advanced_introduction.html">Guia avançado</a></li><li class="none"><a href="../pt-BR/faq.html">FAQ</a></li><li class="none"><a href="http://wiki.java.net/bin/view/Projects/GenesisRoadmap" class="externalLink" title="External Link">Roadmap</a></li><li class="none"><a href="http://wiki.java.net/bin/view/Projects/Genesis" class="externalLink" title="External Link">Wiki</a></li></ul></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="../index.html">About</a></li><li class="collapsed"><a href="../project-info.html">Project Info</a></li><li class="collapsed"><a href="../maven-reports.html">Project Reports</a></li><li class="none"><a href="http://maven.apache.org/development-process.html" class="externalLink" title="External Link">Development Process</a></li></ul></div><div id="menujava_net"><h5>java.net</h5><ul><li class="none"><a href="https://genesis.dev.java.net" class="externalLink" title="External Link">genesis.dev.java.net</a></li><li class="none"><a href="http://java.net" class="externalLink" title="External Link"><img title="java.net member" style="border: 1px" src="../java_dot_net_member.bmp" alt="java.net member"></img></a></li></ul></div><div id="legend"><h5>Legend</h5><ul><li class="externalLink">External Link</li><li class="newWindow">Opens in a new window</li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="../images/logos/maven-button-1.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="Porque_tantos_arquivos_JARs_na_distribuição_do_genesis__"></a><h2>Porque tantos arquivos JARs na distribuição do genesis ?</h2>
         <p>
            O genesis é composto basicamente de 4 módulos:
            <b>genesis-aspect</b>, <b>genesis-client</b>, <b>genesis-shared</b>
            e <b>genesis-server</b>.<br></br>
            O conceito é:
         </p>
         <ul>
            <li>Um dos módulos do genesis só é necessário e tem sentido no lado
            servidor (genesis-server)</li>
            <li>Outro módulo do genesis só é necessário no lado cliente
            'desktop' (genesis-client)</li>
            <li>Outro módulo do genesis necessário tanto no servidor quanto no
            lado cliente 'desktop' (genesis-shared)</li>
         </ul>
         <p>Para completar os 4 módulos do genesis temos um módulo adicional
         para o lado cliente 'desktop', o genesis-aspect.</p>
         <p>
            Portanto, uma aplicação que utiliza o genesis como seu framework
            possuirá no servidor de aplicações os arquivos JARs
            dos módulos genesis-server e o módulo genesis-shared como
            dependências. Consequentemente, o lado cliente dessa aplicação
            possuirá os arquivos JARs dos módulos genesis-client, genesis-shared
            e genesis-aspect como dependências.
         </p>
         <p>
            A explicação mais detalhada sobre cada módulo encontra-se a seguir:
         </p>
         <ul>
            <li><a href="#genesis-server">genesis-server</a></li>
            <li><a href="#genesis-client">genesis-client</a></li>
            <li><a href="#genesis-shared">genesis-shared</a></li>
            <li><a href="#genesis-aspect">genesis-aspect</a></li>
         </ul>
      </div><div class="section"><a name="genesis-server"></a><h2>genesis-server</h2>
        <p>
            O módulo <b>genesis-server</b> é o menor módulo de todo genesis e
            possui apenas 1 arquivo na distribuição do genesis:
            
    <div class="source"><pre>genesis-server-&lt;versao&gt;.jar</pre></div>
  
        </p>
        <p>
            Nesse módulo temos a implementação de um único Stateless Session
            Bean chamado <code>CommandExecutorEJB</code>.
            Esse é o Session Bean responsável por todas as execuções de métodos
            remotos em sua aplicação. Os objetos que possuem
            os métodos remotos são passados para esse Stateless Session Bean e o
            método remoto é executado dentro do Session Bean por reflection.
        </p>
        <p>
            O Stateless Session Bean possui apenas 2 métodos principais para
            execução dos chamados métodos remotos de sua aplicação.
            São eles os métodos:

    <div class="source"><pre>
public Object executeTransaction(Object o, String methodName,
                                 String[] classNames, Object[] args);
public Object executeQuery(Object o, String methodName,
                           String[] classNames, Object[] args);
</pre></div>
  
            onde a única diferença entre eles é que o primeiro método requer que
            uma transação esteja aberta, enquanto o outro não.
        </p>
        <p>
            Existe ainda uma outra classe chamada <code>
            net.java.dev.genesis.ejb.hibernate.EJBHibernateTransactionalInjector
            </code> que implementa
            a interface <code>net.java.dev.genesis.command.TransactionalInjector
            </code>. O genesis já está preparado para atuar
            junto com o <a href="http://www.hibernate.org/" class="externalLink" title="External Link">Hibernate</a> na
            camada de persistência. Por esse motivo já disponibilizamos uma
            implementação padrão de <code>TransactionalInjector</code>
            responsável pela injeção da session do hibernate e controle de
            transações,
            fazendo automaticamente o commit da transação se for um método
            transacional e sua execução terminou com sucesso, ou então
            fazendo o rollback caso alguma exceção tenha acontecido.
        </p>
        <p>
            O módulo <b>genesis-server</b> é transparente a quem desenvolve e
            não é necessário conhecê-lo, salvo o caso em que for necessário
            utilizar outra forma de persistência que não correponda ao
            Hibernate. Nesse caso basta prover uma outra implementação da
            interface
            <code>TransactionalInjector</code> citada anteriormente.
        </p>
      </div><div class="section"><a name="genesis-client"></a><h2>genesis-client</h2>
        <p>
            O módulo <b>genesis-client</b> é o maior módulo de todo genesis e
            possui apenas 1 arquivo na distribuição do genesis:
            
    <div class="source"><pre>genesis-client-&lt;versao&gt;.jar</pre></div>
  
        </p>
        <p>
            Nesse módulo temos a implementação de toda estrutura para
            implementação da parte visual da aplicação. Na versão atual do
            genesis, estamos provendo toda base para o desenvolvimento da
            aplicação utilizando como interface o
            <a href="http://thinlet.sourceforge.net/" class="externalLink" title="External Link">Thinlet</a>.
        </p>
        <p>
            O módulo apresenta classes para formatação de dados na tela,
            conversores de dados vindos da tela entre outras
            que auxiliam a camada de visualização da aplicação.
        </p>
      </div><div class="section"><a name="genesis-shared"></a><h2>genesis-shared</h2>
        <p>
            O módulo <b>genesis-shared</b> é o módulo que convive tanto no lado
            cliente da aplicação como no lado servidor.
            Ele é composto por 2 arquivos:

    <div class="source"><pre>genesis-shared-&lt;versao&gt;.jar
genesis-shared-annotated-&lt;versao&gt;.jar</pre></div>
  
            Esses dois arquivos da distribuição possuem as <b>mesmas</b> classes
            e a única diferença entre eles é que
            o arquivo <code>genesis-shared-annotated-&lt;versao&gt;.jar</code>
            não foi só compilado, mas também foi
            anotado. Isso quer dizer que suas classes foram compiladas
            normalmente como qualquer classe Java, mas após
            a compilação dessas classes, um processo de pós compilação foi
            utilizado para inserir nas classes as
            informações de suas anotações (por exemplo: <code>@Remotable,
            @Transactional, @Criteria</code>).
        </p>
        <p>
            A diferença para quem desenvolve é que o arquivo <code>genesis-
            shared-&lt;versao&gt;.jar</code> é o
            arquivo que deverá estar no lado servidor, enquanto o arquivo <code>
            genesis-shared-annotated-&lt;versao&gt;.jar</code>
            será utilizado no lado cliente da aplicação.
        </p>
      </div><div class="section"><a name="genesis-aspect"></a><h2>genesis-aspect</h2>
        <p>
            O módulo <b>genesis-aspect</b> é o módulo dito ortogonal a
            aplicação. Nenhum outro módulo
            depende desse módulo (não existem imports de suas classes presentes
            em outros módulos).
            Ele é composto por 2 arquivos:

    <div class="source"><pre>genesis-aspect-&lt;versao&gt;.jar
genesis-aspect-annotated-&lt;versao&gt;.jar</pre></div>
  
            Como acontece no módulo genesis-shared, esses dois arquivos da
            distribuição possuem as <b>mesmas</b>
            classes e a única diferença entre eles é que o arquivo <code>
            genesis-aspect-annotated-&lt;versao&gt;.jar</code>
            além de compilado, foi anotado.
        </p>
        <p>
            O módulo genesis-aspect possui todos os aspectos responsáveis pela
            <b>mágica</b> do genesis.
            Existem aspectos responsáveis por interceptar chamadas de métodos
            anotados como métodos remotos e
            executá-los remotamente. Temos aspectos para tratamento de metadados
            da interface gráfica da aplicação
            entre outros aspectos.
        </p>
        <p>
            Geralmente, utilizamos apenas o arquivo <code>genesis-aspect-
            annotated-&lt;versao&gt;.jar</code> da
            distribuição do genesis, pois esse arquivo possui todos seus
            aspectos previamente anotados, não
            necessitando uma configuração posterior definindo o comportamento de
            cada aspecto. Como já dito anteriormente
            esse módulo do genesis só deve estar presente no lado cliente da
            aplicação.
        </p>
      </div><div class="section"><a name="Observações_Gerais"></a><h2>Observações Gerais</h2>
        <p>
            Algo importante que deve ser ressaltado é que todas as classes
            presentes no lado servidor são
            classes Java compiladas normalmente como qualquer outra classe Java,
            sem ter nenhuma manipulação
            de seu bytecode. Porém no lado cliente podemos ter classes pós
            compiladas, onde seus bytecodes
            foram alterados para introduzir anotações e/ou manipuladas e
            recompiladas pelos aspectos
            do genesis.
        </p>
        <p>
            Abaixo temos uma tabela que mapeia todos arquivos da distribuição do
            genesis e suas características:
        </p>
        <table class="bodyTable">
            <tr class="a">
                <th>Arquivo JAR</th>
                <th>Módulo do genesis</th>
                <th>Lado cliente</th>
                <th>Lado servidor</th>
                <th>Manipulação de bytecode</th>
            </tr>
            <tr class="b">
                <td>genesis-server-&lt;version&gt;.jar</td>
          <td>genesis-server</td>
            <td>Não</td>
              <td>Sim</td>
                <td>Não</td>
        </tr>
            <tr class="a">
                <td>genesis-client-&lt;version&gt;.jar</td>
          <td>genesis-client</td>
            <td>Sim</td>
              <td>Não</td>
                <td>Não</td>
        </tr>
            <tr class="b">
                <td>genesis-shared-&lt;version&gt;.jar</td>
          <td>genesis-shared</td>
            <td>Não</td>
              <td>Sim</td>
                <td>Não</td>
        </tr>
            <tr class="a">
                <td>genesis-shared-annotated-&lt;version&gt;.jar</td>
          <td>genesis-shared</td>
            <td>Sim</td>
              <td>Não</td>
                <td>Sim</td>
        </tr>
            <tr class="b">
                <td>genesis-aspect-&lt;version&gt;.jar</td>
          <td>genesis-aspect</td>
            <td>Sim</td>
              <td>Não</td>
                <td>Não</td>
        </tr>
            <tr class="a">
                <td>genesis-aspect-annotated-&lt;version&gt;.jar</td>
          <td>genesis-aspect</td>
            <td>Sim</td>
              <td>Não</td>
                <td>Sim</td>
        </tr>
        </table>
        <p>
            Na distribuição do genesis ainda temos um arquivo chamado <code>
            annotation.properties</code> que é
            utilizado pelo compilador de anotações para identificar quais
            anotações presentes no código fonte
            devem ser inseridas no bytecode das classes.
        </p>
      </div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2004-2005, Summa Tecnologies do Brasil Ltda.</div><div class="clear"><hr></hr></div></div></body></html>