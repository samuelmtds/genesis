<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head><title>Guia de referência rápida de anotações - genesis</title><style type="text/css" media="all">
          @import url("../style/maven-base.css");
          
          @import url("../style/maven-theme.css");</style><link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta><meta name="author" content="Allan Jones Batista de Castro"></meta><meta name="email" content="allanjones@dev.java.net"></meta><meta name="author" content="Michael Nascimento Santos"></meta><meta name="email" content="mister__m@dev.java.net"></meta><meta name="author" content="Pablo Jorge Madril"></meta><meta name="email" content="pmadril@uol.com.br"></meta></head><body class="composite"><div id="banner"><a href="https://genesis.dev.java.net/" id="projectLogo"><img alt="SOL Genesis" src="../genesis.gif"></img></a><div class="clear"><hr></hr></div></div><div id="breadcrumbs"><div class="xleft">Last published: 13 December 2006
                <span class="separator">|</span> Doc for  3.0-EA5
                </div><div class="xright">
        
        <a href="../index.html">genesis</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-aspect/index.html">genesis-aspect</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-client/index.html">genesis-client</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-server/index.html">genesis-server</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../multiproject/genesis-shared/index.html">genesis-shared</a>
      
        
          
            <span class="separator">|</span>
          
        
        <a href="../tags/genesis-tags.html">genesis-xdoclet</a>
      </div><div class="clear"><hr></hr></div></div><div id="leftColumn"><div id="navcolumn"><div id="menugenesis"><h5>genesis</h5><ul><li class="none"><a href="../pt-BR/index.html">Visão geral</a></li><li class="none"><a href="../pt-BR/download.html">Downloads</a></li><li class="none"><a href="../pt-BR/release_notes.html">Notas de versão</a></li></ul></div><div id="menuDocumentação"><h5>Documentação</h5><ul><li class="expanded"><a href="../pt-BR/documentation_intro.html">Manual do usuário</a><ul><li class="none"><a href="../pt-BR/documentation_intro.html">Introdução</a></li><li class="none"><a href="../pt-BR/annotations.html">Usando anotações</a></li><li class="none"><a href="../pt-BR/startup.html">Inicializando o genesis</a></li><li class="expanded"><a href="../pt-BR/remoting.html">Funcionalidades básicas</a><ul><li class="none"><a href="../pt-BR/remoting.html">Remotabilidade transparente</a></li><li class="none"><a href="../pt-BR/transactions.html">Suporte a transações</a></li><li class="none"><a href="../pt-BR/hibernate_integration.html">Integração com o Hibernate</a></li><li class="none"><a href="../pt-BR/binding.html">Binding</a></li><li class="none"><a href="../pt-BR/actions.html">Implementando ações mistas</a></li></ul></li><li class="expanded"><a href="../pt-BR/thinlet_binding.html">Funcionalidades específicas para Thinlet</a><ul><li class="none"><a href="../pt-BR/thinlet_binding.html">Binding Thinlet</a></li><li class="none"><a href="../pt-BR/customizing_widgets_creation.html">Customizando a criação de componentes</a></li></ul></li><li class="expanded"><a href="../pt-BR/configuring_swt.html">Funcionalidades específicas para SWT</a><ul><li class="none"><a href="../pt-BR/configuring_swt.html">Configurando as bibliotecas do SWT</a></li></ul></li><li class="expanded"><a href="../pt-BR/conditions.html">Funcionalidades adicionais</a><ul><li class="none"><a href="../pt-BR/conditions.html">Trabalhando com condições</a></li><li class="none"><a href="../pt-BR/populating_with_dataproviders.html">Populando combos, listas e tabelas</a></li><li class="none"><a href="../pt-BR/formatting.html">Formatando os dados</a></li><li class="none"><a href="../pt-BR/handling_errors.html">Tratando erros</a></li><li class="none"><a href="../pt-BR/validating_data.html">Validando os dados</a></li><li class="none"><a href="../pt-BR/configuring_messages.html">Configurando as mensagens</a></li><li class="none"><a href="../pt-BR/paging_and_dynamic_search.html">Paginação e pesquisas dinâmicas</a></li></ul></li><li class="none"><strong><a href="../pt-BR/quick_reference.html">Guia de referência rápida de anotações</a></strong></li></ul></li><li class="expanded"><a href="../pt-BR/empty_project.html">Desenvolvendo com o genesis</a><ul><li class="none"><a href="../pt-BR/empty_project.html">Para desktops</a></li><li class="none"><a href="../pt-BR/empty_web_project.html">Para web</a></li></ul></li><li class="none"><a href="../pt-BR/useradmin_sample.html">Usando o exemplo UserAdmin</a></li><li class="expanded"><a href="../pt-BR/advanced_introduction.html">Guia avançado</a><ul><li class="none"><a href="../pt-BR/xdoclet_extensions.html">Extensões do XDoclet</a></li><li class="none"><a href="../pt-BR/aspects.html">Aspectos do genesis</a></li><li class="none"><a href="../pt-BR/generic_scripting.html">Suporte a linguagens de script</a></li><li class="none"><a href="../pt-BR/lookup_strategy.html">Estratégias de pesquisa de componentes gráficos</a></li><li class="none"><a href="../pt-BR/widget_binder.html">Customizando o binding de componentes gráficos</a></li></ul></li><li class="none"><a href="../pt-BR/faq.html">FAQ</a></li><li class="none"><a href="http://wiki.java.net/bin/view/Projects/GenesisRoadmap" class="externalLink" title="External Link">Roadmap</a></li><li class="none"><a href="http://wiki.java.net/bin/view/Projects/Genesis" class="externalLink" title="External Link">Wiki</a></li></ul></div><div id="menuProject_Documentation"><h5>Project Documentation</h5><ul><li class="none"><a href="../index.html">About</a></li><li class="collapsed"><a href="../project-info.html">Project Info</a></li><li class="collapsed"><a href="../maven-reports.html">Project Reports</a></li><li class="none"><a href="http://maven.apache.org/development-process.html" class="externalLink" title="External Link">Development Process</a></li></ul></div><div id="menujava_net"><h5>java.net</h5><ul><li class="none"><a href="https://genesis.dev.java.net" class="externalLink" title="External Link">genesis.dev.java.net</a></li><li class="none"><a href="http://java.net" class="externalLink" title="External Link"><img title="java.net member" style="border: 1px" src="../java_dot_net_member.bmp" alt="java.net member"></img></a></li></ul></div><div id="legend"><h5>Legend</h5><ul><li class="externalLink">External Link</li><li class="newWindow">Opens in a new window</li></ul></div><a href="http://maven.apache.org/" title="Built by Maven" id="poweredBy"><img alt="Built by Maven" src="../images/logos/maven-button-1.png"></img></a></div></div><div id="bodyColumn"><div class="contentBox"><div class="section"><a name="Guia_de_referência_rápida_de_anotações"></a><h2>Guia de referência rápida de anotações</h2>
      <p>Boa parte do uso das funcionalidades do genesis exige apenas o uso de
      anotações no código. Este guia rápido explica as anotações e contém 
      exemplos de uso.</p>
    </div><div class="section"><a name="Anotações_do_genesis"></a><h2>Anotações do genesis</h2>
      <p>As anotações estão classificadas pelos elementos (escopo) onde podem 
      ser colocadas:</p>
      <ul>
        <li><b>Classe</b>: antes da definição da classe</li>
        <li><b>Atributo</b>: antes de um getter de atributo</li>
        <li><b>Método</b>: antes da definição de um método</li>
      </ul>
      <p>Algumas anotações são válidas em mais de um escopo.</p>
      <div class="subsection"><a name="Forms"></a><h3>Forms</h3>
        <table class="bodyTable">
          <tr class="b">
            <th>Escopo</th>
            <th>Anotação</th>
          </tr>
          <tr class="a">
            <td>Classe</td>
            <td>
              <ul>
                <li><a href="#@Condition">@Condition</a></li>
                <li><a href="#@Form">@Form</a></li>
              </ul>
            </td>
          </tr>
          <tr class="b">
            <td>Atributo</td>
            <td>
              <ul>
                <li><a href="#@ClearOn">@ClearOn</a></li>
                <li><a href="#@Cloner">@Cloner</a></li>
                <li><a href="#@Condition">@Condition</a></li>
                <li><a href="#@EmptyResolver">@EmptyResolver</a></li>
                <li><a href="#@EmptyValue">@EmptyValue</a></li>
                <li><a href="#@EnabledWhen">@EnabledWhen</a></li>
                <li><a href="#@EqualityComparator">@EqualityComparator</a></li>
                <li><a href="#@NotBound">@NotBound</a></li>
                <li><a href="#@VisibleWhen">@VisibleWhen</a></li>
              </ul>
            </td>
          </tr>
          <tr class="a">
            <td>Método</td>
            <td>
              <ul>
                <li><a href="#@Action">@Action</a></li>
                <li><a href="#@CallWhen">@CallWhen</a></li>
                <li><a href="#@ClearOn">@ClearOn</a></li>
                <li><a href="#@Condition">@Condition</a></li>
                <li><a href="#@DataProvider">@DataProvider</a></li>
                <li><a href="#@EnabledWhen">@EnabledWhen</a></li>
                <li><a href="#@ValidateBefore">@ValidateBefore</a></li>
                <li><a href="#@VisibleWhen">@VisibleWhen</a></li>
              </ul>
            </td>
          </tr>
        </table>
      </div>
      <div class="subsection"><a name="View"></a><h3>View</h3>
        <table class="bodyTable">
          <tr class="b">
            <th>Escopo</th>
            <th>Anotação</th>
          </tr>
          <tr class="a">
            <td>Método</td>
            <td>
              <ul>
                <li><a href="#@BeforeAction">@BeforeAction</a></li>
                <li><a href="#@AfterAction">@AfterAction</a></li>
              </ul>
            </td>
          </tr>
        </table>
      </div>
      <div class="subsection"><a name="POJO"></a><h3>POJO</h3>
        <table class="bodyTable">
          <tr class="b">
            <th>Escopo</th>
            <th>Anotação</th>
          </tr>
          <tr class="a">
            <td>Classe</td>
            <td>
              <ul>
                <li><a href="#@ViewHandler">@ViewHandler</a></li>
              </ul>
            </td>
          </tr>
        </table>
      </div>
      <div class="subsection"><a name="Command"></a><h3>Command</h3>
        <table class="bodyTable">
          <tr class="b">
            <th>Escopo</th>
            <th>Anotação</th>
          </tr>
          <tr class="a">
            <td>Método</td>
            <td>
              <ul>
                <li><a href="#@Criteria">@Criteria</a></li>
                <li><a href="#@Remotable">@Remotable</a></li>
                <li><a href="#@Transactional">@Transactional</a></li>
              </ul>
            </td>
          </tr>
        </table>
      </div>
    </div><div class="section"><a name="Funções_script_do_genesis"></a><h2>Funções script do genesis</h2>
      <p>Além das anotações, foram implementadas as seguintes funções de
      extensão às linguagens de script:</p>
      <ul>
        <li>isEmpty(any), isNotEmpty(any)</li>
        <li>equals(any,any), notEquals(any,any)</li>
        <li>hasChanged(campo), hasNotChanged(campo)
        </li>
      </ul>
      <p>Podem ser usadas pelas anotações que aceitam expressões condicionais
      de script. No caso do JXPath e da EL, o <b>g:</b> indica o namespace do 
      genesis. Para o JavaScript e Beanshell, a variável <code>genesis</code> é 
      exposta.</p>
      <div class="subsection"><a name="isEmpty_any___isNotEmpty_any_"></a><h3>isEmpty(any), isNotEmpty(any)</h3>
        <p>Verifica se um dado está vazio. Usa o <a href="#@EmptyResolver">
        @EmptyResolver</a> quando disponível. Recebe como argumento um número,
        uma String, uma varíavel ou função pré-definida da linguagem de script,
        ou o nome de um campo do <code>Form</code>.</p>
        <p>A sintaxe específica para cada linguagem de script encontra-se na 
        tabela abaixo:</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Linguagem</th>
            <th>isEmpty</th>
            <th>isNotEmpty</th>
          </tr>
          <tr class="a">
            <th>JXPath</th>
            <td>g:isEmpty(campoDoForm)</td>
            <td>g:isNotEmpty(campoDoForm)</td>
          </tr>
          <tr class="b">
            <th>JavaScript/Beanshell</th>
            <td>genesis.isEmpty("form:campoDoForm")</td>
            <td>genesis.isNotEmpty("form:campoDoForm")</td>
          </tr>
          <tr class="a">
            <th>EL</th>
            <td>g:isEmpty("form:campoDoForm")</td>
            <td>g:isNotEmpty("form:campoDoForm")</td>
          </tr>
        </table>
      </div>
      <div class="subsection"><a name="equals_any_any___notEquals_any_any_"></a><h3>equals(any,any), notEquals(any,any)</h3>
        <p>Verifica se dois objetos são iguais. Usa os <a href="#@EqualityComparator">@EqualityComparator</a>s, caso existam, para
        efetuar a comparação. Recebe como argumentos números, Strings, variáveis
        ou funções pré-definidas da linguagem de script, ou nomes de
        campos do <code>Form</code>.</p>
        <p>A sintaxe específica para cada linguagem de script encontra-se na 
        tabela abaixo:</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Linguagem</th>
            <th>equals</th>
            <th>notEquals</th>
          </tr>
          <tr class="a">
            <th>JXPath</th>
            <td>g:equals(campoDoForm, outroCampo)</td>
            <td>g:notEquals(campoDoForm, outroCampo)</td>
          </tr>
          <tr class="b">
            <th>JavaScript/Beanshell</th>
            <td>genesis.equals("form:campoDoForm", "form:outroCampo")</td>
            <td>genesis.notEquals("form:campoDoForm", "form:outroCampo")</td>
          </tr>
          <tr class="a">
            <th>EL</th>
            <td>g:equals("form:campoDoForm", "form:outroCampo")</td>
            <td>g:notEquals("form:campoDoForm", "form:outroCampo")</td>
          </tr>
        </table>
      </div>
      <div class="subsection"><a name="hasChanged_campo___________________________hasNotChanged_campo_"></a><h3>hasChanged(campo),                         hasNotChanged(campo)</h3>
        <p>Verifica se um campo do form foi alterado ou não. O parâmetro tem que
        ser um campo do form.</p>
        <p>A sintaxe específica para cada linguagem de script segue a tabela
        abaixo:</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Linguagem</th>
            <th>hasChanged</th>
            <th>hasNotChanged</th>
          </tr>
          <tr class="a">
            <th>JXPath</th>
            <td>g:hasChanged(campoDoForm)</td>
            <td>g:hasNotChanged(campoDoForm)</td>
          </tr>
          <tr class="b">
            <th>JavaScript/Beanshell</th>
            <td>genesis.hasChanged("form:campoDoForm")</td>
            <td>genesis.hasNotChanged("form:campoDoForm")</td>
          </tr>
          <tr class="a">
            <th>EL</th>
            <td>g:hasChanged("form:campoDoForm")</td>
            <td>g:hasNotChanged("form:campoDoForm")</td>
          </tr>
        </table>
      </div>
    <p><a href="conditions.html#Verificando_mudanças_de_valores_em_campos_e_fazendo___________comparações_em_expressões_condicionais">
      Mais informações...</a></p>
    </div><div class="section"><a name="Referência"></a><h2>Referência</h2>
      <div class="subsection"><a name="@Form"></a><h3>@Form</h3>
        <p>Indica que a classe é um form e suporta as outras anotações de
        interface gráfica definidas no genesis (<code>@Action</code>,
        <code>@EnabledWhen</code>, etc). A implementação default do genesis 
        utiliza essa anotação para gerar a infraestrutura de suporte do form.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>Não utiliza</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>
        <p>Exemplo de uso:</p>

    <div class="source"><pre>
<b>@Form</b>
public class MeuForm {
//  ...
</pre></div>
  
        <p><a href="binding.html#Binding">Mais informações...</a></p>
      </div>
      <div class="subsection"><a name="@Condition"></a><h3>@Condition</h3>
        <p>Declara uma variável no contexto da linguagem de script utilizada.
        Essa variável possui um nome e representa uma expressão de condicional 
        de script. A anotaçao pode ser definida como anotação de classe, de 
        campo ou de método</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>nomeDaVariável</td>
            <td>Expressão de script condicional válida</td>
            <td></td>
            <td><b>Sim</b></td>
          </tr>
        </table>
        <p>Exemplo de uso (Javascript):</p>

    <div class="source"><pre>
@Form
<b>@Condition("findRoleCondition=genesis.isNotEmpty('form:roleCode') &amp;&amp; genesis.hasChanged('form:roleCode')")</b>
public class InsertUpdateForm {
   @Action
   @CallWhen("<b>findRoleCondition</b>")
   public void findRole() throws Exception {
      // ...
</pre></div>
  

        <p>Exemplo de uso (Beanshell):</p>
 
    <div class="source"><pre>
@Form
<b>@Condition("findRoleCondition=genesis.isNotEmpty(\"form:roleCode\") &amp;&amp; genesis.hasChanged(\"form:roleCode\")")</b>
public class InsertUpdateForm {
   @Action
   @CallWhen("<b>findRoleCondition</b>")
   public void findRole() throws Exception {
      // ...
</pre></div>
  
        <p>Exemplo de uso (EL):</p>

    <div class="source"><pre>
@Form
<b>@Condition("findRoleCondition=g:isNotEmpty('form:roleCode') &amp;&amp; g:hasChanged('form:roleCode')")</b>
public class InsertUpdateForm {
   @Action
   @CallWhen("<b>${findRoleCondition}</b>")
   public void findRole() throws Exception {
      // ...
</pre></div>
  
        
        <p>Exemplo de uso (JXPath):</p>

    <div class="source"><pre>
@Form
<b>@Condition("findRoleCondition=g:isNotEmpty(roleCode) and g:hasChanged(roleCode)")</b>
public class InsertUpdateForm {
   @Action
   @CallWhen("<b>$findRoleCondition</b>")
   public void findRole() throws Exception {
     // ...
</pre></div>
  
        <p><a href="conditions.html#Declarando_condições">Mais
    informações...</a></p>
      </div>
      <div class="subsection"><a name="@DataProvider"></a><h3>@DataProvider</h3>
        <p>Usado antes de um método que retorna um array ou uma
        <code>java.util.List</code>. O retorno será utilizado para popular um
        componente da interface gráfica, um widget (combo, lista, table, etc)
        que deve possuir o nome indicado por widgetName, objectField ou
        indexField. O <code>objectField</code> guarda e recebe uma coleção ou
        instância do(s) objeto(s) selecionado(s). <code>O indexField</code>
        guarda e recebe uma coleção de índices ou um índice do(s) objeto(s)
        selecionado(s).</p>
        <p>Tanto <code>objectField</code> quanto <code>indexField</code> são
        também atributos do form, se especificados. Enquanto
        <code>objectField</code> deve ser uma <code>java.util.List</code>
        ou do tipo do objeto retornado - <code>Usuario</code>, por exemplo - o
        <code>indexField</code> deve ser uma <code>java.util.List</code>
        de <code>Integer</code> ou um array de int/<code>Integer</code>.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>objectField</td>
            <td>nomeDoAtributoDoForm (que também é o nomeDoWidget, caso
            <code>widgetName</code> não seja especificado)</td>
            <td>Nome do widget (caso widgetName não seja especificado)
            que será atualizado com o resultado retornado pelo método e também
            nome do campo do form que mantém o conteúdo selecionado na
            interface gráfica.</td>
            <td>somente se <code>indexField</code> ou <code>widgetName</code>
            não forem especificados</td>
          </tr>
          <tr class="b">
            <td>indexField</td>
            <td>nomeDoAtributoDoForm (se <code>objectField</code> ou
            <code>widgetName</code> não forem especificados,
            também nomeDoWidget)</td>
            <td>Nome do atributo do form, do tipo <code>List</code>,
            <code>Integer</code> ou array de int/<code>Integer</code> que mantém
            o conteúdo dos índices dos dados selecionados no widget. Se
            <code>objectField</code> não for especificado, também é o nome do
            widget que será atualizado com o resultado retornado pelo
            método</td>
            <td>somente se <code>objectField</code> ou <code>widgetName</code>
            não forem especificados</td>
          </tr>
          <tr class="a">
            <td>widgetName</td>
            <td>nome do widget</td>
            <td>Nome do widget que será atualizado com o resultado
            retornado pelo método</td>
            <td>somente se <code>objectField</code> ou <code>indexField</code>
            não forem especificados</td>
          </tr>
          <tr class="b">
            <td>callOnInit</td>
            <td>valor booleano</td>
            <td>Indica se o método será chamado ao se fazer o binding, ou seja
            na inicialização do componente</td>
            <td>Não, default: <code>true</code></td>
          </tr>
          <tr class="a">
            <td>resetSelection</td>
            <td>valor booleano</td>
            <td>Indica se a seleção deverá ser resetada cada vez que o método
            for chamado</td>
            <td>Não, default: <code>true</code></td>
          </tr>
        </table>
        <p>Exemplo de uso (InsertUpdateForm.java):</p>

    <div class="source"><pre>
   <b>@DataProvider(objectField="country")</b>
   public List provideCountries() throws Exception {
      // ...
</pre></div>
  
        <p><a href="populating_with_dataproviders.html#Populando_combos__listas_e_tabelas">
Mais informações...</a></p>
      </div>
      <div class="subsection"><a name="@NotBound"></a><h3>@NotBound</h3>
        <p>Determina que certa propriedade não deve ser modificada nem sequer
        exibida pelo genesis. Pode ser usada em getters de propriedades.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>Não utiliza</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>
        <p>Exemplo de uso:</p>

    <div class="source"><pre>
@Form
public class ExemploForm {
   <b>@NotBound</b>
   public String getPropriedade() {
      // ...
</pre></div>
  
      </div>
      <div class="subsection"><a name="@EnabledWhen"></a><h3>@EnabledWhen</h3>
        <p>Habilita ou desabilita um widget em função do resultado de uma
        expressão de script condicional. Pode ser utilizado em atributos do form,
        quando utilizado nos getters, bem como para ações (métodos). Pode usar
        variáveis definidas com a anotação <a href="#@Condition">@Condition</a></p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>value</td>
            <td>expressão de script condicional</td>
            <td>condição para habilitar o widget</td>
            <td><b>Sim</b></td>
          </tr>
        </table>
        <p>Exemplo de uso (Javascript):</p>

    <div class="source"><pre>
   @Condition("usersSelected=genesis.isNotEmpty('form:users')")
   public List getUsers() {
      return users;
   }

   @Action
   <b>@EnabledWhen("usersSelected")</b>
   public void remove() throws Exception {
      // ...
</pre></div>
  

        <p>Exemplo de uso (Beanshell):</p>

    <div class="source"><pre>
   @Condition("usersSelected=genesis.isNotEmpty(\"form:users\")")
   public List getUsers() {
      return users;
   }

   @Action
   <b>@EnabledWhen("usersSelected")</b>
   public void remove() throws Exception {
      // ...
</pre></div>
  

        <p>Exemplo de uso (EL):</p>

    <div class="source"><pre>
   @Condition("usersSelected=g:isNotEmpty('form:users')")
   public List getUsers() {
      return users;
   }

   @Action
   <b>@EnabledWhen("${usersSelected}")</b>
   public void remove() throws Exception {
      // ...
</pre></div>
  
        
        <p>Exemplo de uso (JXPath):</p>

    <div class="source"><pre>
   @Condition("usersSelected=g:isNotEmpty(users)")
   public List getUsers() {
      return users;
   }

   @Action
   <b>@EnabledWhen("$usersSelected")</b>
   public void remove() throws Exception {
      // ...
</pre></div>
  
        <p><a href="conditions.html#Habilitando_e_desabilitando_componentes">
Mais informações...</a></p>
      </div>
      <div class="subsection"><a name="@VisibleWhen"></a><h3>@VisibleWhen</h3>
        <p>Apresenta ou não um widget em função do resultado da avaliação de uma
        expressão de script condicional. Pode ser utilizado em atributos do form,
        quando utilizado nos getters, bem como para ações (métodos). Pode usar
        variáveis definidas pela anotação <a href="#@Condition">@Condition</a>.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>value</td>
            <td>expressão de script condicional</td>
            <td>condição para tornar o widget visível</td>
            <td><b>Sim</b></td>
          </tr>
        </table>
        <p>Exemplo de uso (Javascript):</p>

    <div class="source"><pre>
   @Action
   <b>@VisibleWhen("form.pageNumber &gt; 0")</b>
   public void previousPage() {
      // ...
</pre></div>
  
        
        <p>Exemplo de uso (Beanshell):</p>

    <div class="source"><pre>
   @Action
   <b>@VisibleWhen("form.getPageNumber() &gt; 0")</b>
   public void previousPage() {
      // ...
</pre></div>
  
        
        <p>Exemplo de uso (EL):</p>

    <div class="source"><pre>
   @Action
   <b>@VisibleWhen("${form.pageNumber &gt; 0}")</b>
   public void previousPage() {
      // ...
</pre></div>
  
        
        <p>Exemplo de uso (JXPath):</p>

    <div class="source"><pre>
   @Action
   <b>@VisibleWhen("pageNumber &gt; 0")</b>
   public void previousPage() {
      // ...
</pre></div>
  
    <p><a href="conditions.html#Controlando_a_visibilidade">Mais
    informações...</a></p>
      </div>
      <div class="subsection"><a name="@CallWhen"></a><h3>@CallWhen</h3>
        <p>Chama o método indicado quando a condição é satisfeita. Só
        pode ser aplicado a métodos do form, i.e., métodos anotados com
        <a href="#@Action">@Action</a> ou <a href="#@DataProvider">@DataProvider</a>.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>anônimo</td>
            <td>expressão de script condicional</td>
            <td>condição para chamar o método</td>
            <td><b>Sim</b></td>
          </tr>
        </table>
        <p>Exemplo de uso (Javascript):</p>

    <div class="source"><pre>
   @DataProvider(objectField="state")
   <b>@CallWhen("genesis.hasChanged('form:country')")</b>
   public Collection provideState() throws Exception {
      // ...
</pre></div>
  

        <p>Exemplo de uso (Beanshell):</p>

    <div class="source"><pre>
   @DataProvider(objectField="state")
   <b>@CallWhen("genesis.hasChanged(\"form:country\")")</b>
   public Collection provideState() throws Exception {
      // ...
</pre></div>
  
        
        <p>Exemplo de uso (EL):</p>

    <div class="source"><pre>
   @DataProvider(objectField="state")
   <b>@CallWhen("g:hasChanged('form:country')")</b>
   public Collection provideState() throws Exception {
      // ...
</pre></div>
  
        
        <p>Exemplo de uso (JXPath):</p>

    <div class="source"><pre>
   @DataProvider(objectField="state")
   <b>@CallWhen("g:hasChanged(country)")</b>
   public Collection provideState() throws Exception {
      // ...
</pre></div>
  
    <p><a href="conditions.html#Invocando_métodos_automaticamente">
    Mais informações...</a></p>
      </div>
      <div class="subsection"><a name="@ClearOn"></a><h3>@ClearOn</h3>
        <p>Limpa o conteúdo do atributo indicado ou do componente populado pelo
        <a href="#@DataProvider">@DataProvider</a> quando a condição de script é
        satisfeita. Só pode ser aplicado a atributos do form e em 
        <code>DataProvider</code>s.</p>
        <p>No caso de campos, o valor usado para limpar o campo é definido 
        através da anotação <a href="#@EmptyValue">@EmptyValue</a>.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>value</td>
            <td>expressão de script condicional</td>
            <td>condição para limpar o conteúdo</td>
            <td><b>Sim</b></td>
          </tr>
        </table>
        <p>Exemplo de uso (Javascript):</p>

    <div class="source"><pre>
   <b>@ClearOn("genesis.isEmpty('form:roleCode')")</b>
   public Role getRole() {
      return role;
   }
</pre></div>
  
        
        <p>Exemplo de uso (Beanshell):</p>

    <div class="source"><pre>
   <b>@ClearOn("genesis.isEmpty(\"form:roleCode\")")</b>
   public Role getRole() {
      return role;
   }
</pre></div>
  
        
        <p>Exemplo de uso (EL):</p>

    <div class="source"><pre>
   <b>@ClearOn("g:isEmpty('form:roleCode')")</b>
   public Role getRole() {
      return role;
   }
</pre></div>
  
        
        <p>Exemplo de uso (JXPath):</p>

    <div class="source"><pre>
   <b>@ClearOn("g:isEmpty(roleCode)")</b>
   public Role getRole() {
      return role;
   }
</pre></div>
  
        <p><a href="conditions.html#Limpando_o_conteúdo_dos_campos">Mais
informações...</a></p>
      </div>
      <div class="subsection"><a name="@ValidateBefore"></a><h3>@ValidateBefore</h3>
        <p>Força a execução da validação antes de ser executado o método
        definido como<a href="#@Action">@Action</a>. Só pode ser usado nestes
        métodos.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>Não utiliza</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>
        <p>Exemplo de uso (InsertUpdateForm.java):</p>

    <div class="source"><pre>
   @Action
   <b>@ValidateBefore</b>
   public void save() throws Exception {
      // ...
</pre></div>
  
        <p><a href="validating_data.html#Validando_os_dados">Mais
informações...</a></p>
      </div>
      <div class="subsection"><a name="@EqualityComparator"></a><h3>@EqualityComparator</h3>
        <p>Anotação colocada antes de getter de atributos do form. Identifica a
        classe que sabe comparar elementos do tipo do atributo. Tem como
        parâmetro principal a classe que implementa a interface
        <code>net.java.dev.genesis.equality.EqualityComparator</code>. Tal
        classe é usada internamente pelas funções <code>equals(any,any)</code>
        e <code>notEquals(any,any)</code>.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>value</td>
            <td><code>Class</code></td>
            <td>Classe que implementa a interface
            <code>EqualityComparator</code>.</td>
            <td><b>Sim, a menos que existam propriedades</b></td>
          </tr>
          <tr class="b">
            <td>properties</td>
            <td>Nome de propriedades da classe especificada</td>
            <td>Array de strings no formato 'chave=valor' de atributos da classe especificada em questão</td>
            <td><b>Não</b></td>
          </tr>
        </table>
        <p>Exemplo de uso</p>

    <div class="source"><pre>
   <b>@EqualityComparator(value=net.java.dev.genesis.equality.StringEqualityComparator.class, properties="trim=false")</b>
   public String getNome() {
      return nome;
   }
</pre></div>
  
        <p><a href="conditions.html#Comparando_valores">Mais
informações...</a></p>
      </div>
      <div class="subsection"><a name="@Cloner"></a><h3>@Cloner</h3>
        <p>Permite configurar a classe usada para fazer a cópia do estado 
        anterior da propriedade do form. Tem como parâmetro principal uma classe
        que implementa a interface
        <code>net.java.dev.genesis.cloning.Cloner</code>. Só pode ser usada em
        atributos do form.</p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>value</td>
            <td><code>Class</code></td>
            <td>Classe que implementa a interface <code>Cloner</code>.</td>
            <td><b>Sim, a menos que existam propriedades</b></td>
          </tr>
          <tr class="a">
            <td>properties</td>
            <td>Nome de uma propriedade da classe especificada</td>
            <td>Nome de um atributo da classe que implementa a interface
            <code>Cloner</code>. Podem haver vários desses
            parâmetros.</td>
            <td><b>Não</b></td>
          </tr>
        </table>
        <p>Exemplo de uso</p>

    <div class="source"><pre>
   <b>@Cloner(value=meupacote.MeuCloner.class, properties="acceptNull=true")</b>
   public MeuBean getBean() {
      return bean;
   }
</pre></div>
  
        <p><a href="conditions.html#Alterando_a_forma_como_os_valores_são_clonados">Mais
        informações...</a></p>
      </div>
      <div class="subsection"><a name="@EmptyResolver"></a><h3>@EmptyResolver</h3>
        <p>Anotação colocada antes de getter de atributos do form. Identifica a
        classe que sabe comparar elementos do tipo do atributo. Tem como
        parâmetro principal a classe que implementa a interface
        <code>net.java.dev.genesis.resolvers.EmptyResolver</code>. Tal classe é
        usada internamente pelas funções <code>isEmpty(any)</code> e
        <code>isNotEmpty(any)</code>.</p>
        <table class="bodyTable">
          <tr class="b">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="a">
            <td>value</td>
            <td><code>Class</code></td>
            <td>Classe que implementa a interface
            <code>EmptyResolver</code>.</td>
            <td><b>Sim, a menos que existam propriedades</b></td>
          </tr>
          <tr class="b">
            <td>properties</td>
            <td>Nome de uma propriedade da classe especificada</td>
            <td>Array de strings no formato 'chave=valor' de atributos da classe especificada em questão</td>
            <td><b>Não</b></td>
          </tr>
        </table>
        <p>Exemplo de uso</p>

    <div class="source"><pre>
   <b>@EmptyResolver(value=net.java.dev.genesis.resolvers.StringEmptyResolver.class, properties="trim=false")</b>
   public String getNome() {
      return nome;
   }
</pre></div>
  
        <p><a href="conditions.html#Determinando_se_o_campo_está_vazio">
    Mais informações...</a></p>
      </div>
      <div class="subsection"><a name="@EmptyValue"></a><h3>@EmptyValue</h3>
        <p>Especifica o valor vazio de um campo. Utilizado em conjunto com <a href="#@ClearOn">@ClearOn</a>.</p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>value</td>
            <td>valor literal</td>
            <td>O valor do campo quando vazio</td>
            <td><b>Sim</b></td>
          </tr>
        </table>
        <p>Exemplo de uso</p>

    <div class="source"><pre>
   <b>@EmptyValue("-1")</b>
   public int getIdade() {
      return idade;
   }
</pre></div>
  
        <p><a href="conditions.html#Limpando_o_conteúdo_dos_campos">Mais
informações...</a></p>
      </div>
      <div class="subsection"><a name="@Action"></a><h3>@Action</h3>
        <p>Define um método como alvo de binding com a interface gráfica. A ação
        pode representar um botão e/ou simplesmente um método que é chamado
        quando uma condição é satisfeita. O nome do widget tem que ser igual ao
        nome do método no form para que ocorra uma ligação dinâmica entre eles.
        </p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>Não utiliza</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>
        <p>Exemplo de uso (InsertUpdateForm.java):</p>

    <div class="source"><pre>
   <b>@Action</b>
   @ValidateBefore
   public void save() throws Exception {
      // ...
</pre></div>
  
        <p>define o método <b>save</b> como alvo do acionamento de um botão
        com nome "save" na interface gráfica.</p>
        <p><a href="binding.html">Mais informações...</a></p>
      </div>
      <div class="subsection"><a name="@BeforeAction"></a><h3>@BeforeAction</h3>
        <p>Aplica-se a métodos de uma view ou classe de suporte. A anotação pode 
        ser usada em classes que herdam da classe <code>BaseThinlet</code> (ou 
        <code>BaseDialogThinlet</code>) ou anotadas com 
        <a href="#@ViewHandler">@ViewHandler</a>. A anotação 
        <code>@BeforeAction</code> se aplica ao método da view que deve ser 
        executado <b>antes</b> da execução da <code>@Action</code>. O método 
        deve possuir o mesmo nome da <code>@Action</code> ou indicá-lo como 
        parâmetro.</p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>value</td>
            <td>String</td>
            <td>Nome do método do form para o qual o método anotado deve ser
            executado antes</td>
            <td>Somente quando o nome do método da view não coincidir com o
            método do form</td>
          </tr>
        </table>
        <p>Exemplo de uso (InsertUpdateView.java):</p>

    <div class="source"><pre>
   <b>@BeforeAction</b>
   public void chooseRole() throws Exception {
      // ...
</pre></div>
  
        <p><a href="actions.html#Usando_@BeforeAction">Mais 
informações...</a></p>
      </div>
      <div class="subsection"><a name="@AfterAction"></a><h3>@AfterAction</h3>
        <p>Aplica-se a métodos de uma view ou classe de suporte. A anotação pode 
        ser usada em classes que herdam da classe <code>BaseThinlet</code> (ou 
        <code>BaseDialogThinlet</code>) ou anotadas com 
        <a href="#@ViewHandler">@ViewHandler</a>. A anotação 
        <code>@AfterAction</code> se aplica ao método da view que deve ser 
        executado <b>antes</b> da execução da <code>@Action</code>. O método 
        deve possuir o mesmo nome da <code>@Action</code> ou indicá-lo como 
        parâmetro.</p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>value</td>
            <td>String</td>
            <td>Nome do método do form para o qual o método anotado deve ser
            executado depois</td>
            <td>Somente quando o nome do método da view não coincidir com o
            método do form</td>
          </tr>
        </table>
        <p>Exemplo de uso (InsertUpdateView.java):</p>

    <div class="source"><pre>
   <b>@AfterAction</b>
   public void save() {
      // ...
</pre></div>
  
        <p><a href="actions.html#Usando_@AfterAction">Mais 
informações...</a></p>
      </div>
      <div class="subsection"><a name="@ViewHandler"></a><h3>@ViewHandler</h3>
        <p>Utilizado em POJOs (simples objetos Java) que contém metodos
        anotados com <a href="#@BeforeAction"><code>@BeforeAction</code></a>
        e/ou <a href="#@AfterAction"><code>@AfterAction</code></a>.</p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>Não utiliza</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>
  <p>Exemplo de uso</p>
  
    <div class="source"><pre>
<b>@ViewHandler</b>
public class ExemploViewHandler {
   @BeforeAction
   public boolean excluir() {
      // ...
   }
}
  </pre></div>
  
    <p><a href="actions.html#Implementando_ações_mistas">Mais
    informações...</a></p>
      </div>
      <div class="subsection"><a name="@Remotable"></a><h3>@Remotable</h3>
        <p>Utilizado para anotar métodos de classes de negócio. Os métodos
        anotados com @Remotable são interceptados através de um aspecto que
        transfere a instância em que o método foi invocado para o servidor,
        executando-o ali e transferindo o resultado de volta para o cliente.
        Essa característica é chamada de <b>remotabilidade transparente</b>.</p>
        <p>Apenas métodos concretos, não-estáticos, não-nativos e públicos podem
        receber esta anotação.</p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>Não utiliza</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>
        <p>Exemplo de uso (RoleSearchCommand.java):</p>

    <div class="source"><pre>
   <b>@Remotable</b>
   public List getRoles() throws Exception {
      return getSession().createQuery("from Role").list();
   }
</pre></div>
  
        <p><a href="remoting.html#Remotabilidade_transparente">Mais
informações...</a></p>
      </div>
      <div class="subsection"><a name="@Transactional"></a><h3>@Transactional</h3>
        <p>Utilizado para anotar métodos de classes de negócio. Os métodos
        anotados com <code>@Transactional</code> são interceptados através de 
        um aspecto que transfere a instância em que o método foi invocado para o 
        servidor, executando-o ali e transferindo o resultado de volta para o 
        cliente. A execução é efetuada dentro do contexto de uma transação JTA, 
        com rollback automático caso seja lançada alguma exceção. Todo método
        anotado como <code>@Transactional</code> se comporta também como <a href="#@Remotable">@Remotable</a>.</p>
        <p>Apenas métodos concretos, não-estáticos, não-nativos e públicos podem
        receber esta anotação.</p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>Não utiliza</td>
            <td></td>
            <td></td>
            <td></td>
          </tr>
        </table>
        <p>Exemplo de uso (RoleRemoveCommand.java):</p>

    <div class="source"><pre>
   <b>@Transactional</b>
   public boolean removeRole(final Role role) throws Exception {
      // ...
</pre></div>
  
        <p><a href="transactions.html#Suporte_a_transações">Mais 
informações...</a></p>
      </div>
      <div class="subsection"><a name="@Criteria"></a><h3>@Criteria</h3>
        <p>Utilizado em métodos que fazem pesquisa dinâmicas e que, geralmente,
        precisam de uma instância de <code>Criteria</code> para sua execução.
        Essa anotação implica que o método também é <a href="#@Remotable">
        @Remotable</a>, mantendo assim a remotabilidade transparente. Apenas
        métodos concretos, não-estáticos, não-nativos e públicos podem receber
        esta anotação.</p>
        <table class="bodyTable">
          <tr class="a">
            <th>Parâmetros</th>
            <th>Tipo</th>
            <th>Descrição</th>
            <th>Obrigatório</th>
          </tr>
          <tr class="b">
            <td>value</td>
            <td><code>Class</code></td>
            <td>Classe mapeada no Hibernate para a qual se deseja criar
            o Criteria</td>
            <td>Obrigatório apenas se possuir propriedades de ordenação</td>
          </tr>
          <tr class="a">
            <td>orderby</td>
            <td>propriedades de ordenação</td>
            <td>Array de nome das propriedades a serem usadas numa ordenação,
            ex: <code>@Criteria(value=meupacote.MinhaClasse.class, 
            orderby={"propriedade1", "propriedade2 DESC", "propriedade3 ASC"})</code></td>
            <td>Não</td>
          </tr>
        </table>
        <p>Exemplo de uso (UserSearchCommand.java):</p>

    <div class="source"><pre>
public class UserSearchCommand extends AbstractHibernateCriteria {
   <b>@Criteria(value=net.java.dev.genesis.samples.useradmin.databeans.User.class, orderby="name")</b>
   public Page getUsers(final int pageNumber) {
      // ...
</pre></div>
  
        <p><a href="paging_and_dynamic_search.html#Pesquisas_dinâmicas_com_Criteria">Mais 
informações...</a></p>
      </div>
    </div></div></div><div class="clear"><hr></hr></div><div id="footer"><div class="xright">© 2004-2006, Summa Tecnologies do Brasil Ltda.</div><div class="clear"><hr></hr></div></div></body></html>